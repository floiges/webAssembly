<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Emscripten:Export1</title>
    </head>
    <body>
        <script>
            Module = {};
            Module.onRuntimeInitialized = function() {
                var ptr = Module._get_string();
                // 将C/C++的字符串转换为JavaScript字符串
                var str = Pointer_stringify(ptr);
                console.log(typeof(str));
                console.log(str);

                // 将在C/C++内存中分配足够大的空间，并将字符串按UTF8格式拷入其中
                // 将字符串传入C/C++内存
                ptr = allocateUTF8("你好，Emscripten！");
                Module._print_string(ptr);
                Module._free(ptr);
            }
        </script>
        <script src="./strings.js"></script>
    </body>
</html>